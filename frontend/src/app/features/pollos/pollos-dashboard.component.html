<div class="pollos-dashboard-layout flex min-h-screen bg-gradient-to-br from-gray-50 to-gray-100">
  <!-- SIDEBAR PROFESIONAL -->
  <aside class="sidebar bg-gradient-to-b from-white to-gray-50 shadow-2xl flex flex-col border-r border-gray-200 relative overflow-hidden"
         [ngClass]="{ 'collapsed': isSidebarCollapsed }"
         [class.w-80]="!isSidebarCollapsed"
         [class.w-20]="isSidebarCollapsed">

    <!-- Efecto de fondo decorativo -->
    <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-yellow-400/10 to-orange-400/10 rounded-full -translate-y-16 translate-x-16"></div>
    <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-green-400/10 to-blue-400/10 rounded-full translate-y-12 -translate-x-12"></div>

    <!-- Tarjeta de Perfil -->
    <div class="profile-card p-4">
      <div class="profile-card__inner">
        <img [src]="user?.profilePicture || 'assets/img/default-avatar.png'" alt="Avatar" class="avatar" />
        <div class="info" *ngIf="!isSidebarCollapsed">
          <div class="name">{{ user?.name || user?.username }}</div>
          <div class="role">{{ (user?.roles?.[0] || 'Usuario') | titlecase }}</div>
        </div>
      </div>
      <div class="divider" *ngIf="!isSidebarCollapsed"></div>
    </div>

    <!-- Navegación simple del Sidebar -->
    <nav class="flex-1 p-4 space-y-2">
      <ul class="space-y-1">
        <li>
          <a routerLink="dashboard" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-chart-line text-sm mr-3"></i>
            <span class="flex-1">Dashboard</span>
          </a>
        </li>
        <li>
          <a routerLink="alimentacion" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-utensils text-sm mr-3"></i>
            <span class="flex-1">Alimentación</span>
          </a>
        </li>
        <li>
          <a routerLink="lotes" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-clipboard-list text-sm mr-3"></i>
            <span class="flex-1">Lotes</span>
          </a>
        </li>
        <li>
          <a routerLink="historico" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-archive text-sm mr-3"></i>
            <span class="flex-1">Histórico</span>
          </a>
        </li>
        <li>
          <a routerLink="mortalidad" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-exclamation-triangle text-sm mr-3"></i>
            <span class="flex-1">Mortalidad</span>
          </a>
        </li>
        <li>
          <a routerLink="morbilidad" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-stethoscope text-sm mr-3"></i>
            <span class="flex-1">Morbilidad</span>
          </a>
        </li>
        <li *ngIf="isAdmin()">
          <a routerLink="inventario" routerLinkActive="active"
             class="nav-item group flex items-center px-3 py-2.5 rounded-xl text-gray-700 hover:bg-gray-100 transition-all duration-200 font-medium">
            <i class="fas fa-warehouse text-sm mr-3"></i>
            <span class="flex-1">Inventario</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="flex-1 flex flex-col min-h-screen bg-white">
          <!-- Toggle Sidebar -->
          <div class="mb-4">
            <button class="p-2 rounded-lg hover:bg-gray-100 transition-colors" (click)="toggleSidebarCollapse()">
              <i class="fas text-gray-600" [ngClass]="{ 'fa-bars': !isSidebarCollapsed, 'fa-times': isSidebarCollapsed }"></i>
            </button>
          </div>
          <!-- Búsqueda Rápida -->
          <div class="relative">
            <input type="text" 
                   placeholder="Buscar lotes..." 
                   class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent w-64">
            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          </div>
          <!-- Fin cabecera -->

          <!-- Título del módulo -->
          <div class="page-header mt-4 mb-2">
            <h1 class="page-title">{{ pageTitle | uppercase }}</h1>
          </div>

    <!-- Contenido Dinámico -->
    <div class="flex-1 p-6 bg-gray-50">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>